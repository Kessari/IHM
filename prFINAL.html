<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SmartBazaar DZ ‚Äì Product Details</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    :root{
        /* Theme aligned with Home page */
        --bg-main:#f4efff;
        --card-bg:rgba(255,255,255,0.96);
        --text-main:#1f1638;
        --text-muted:#8b86aa;
        --accent-start:#7b2ff7;
        --accent-end:#f107a3;
        --glass-border:rgba(230,225,255,0.85);

        --primary:var(--accent-start);
        --primary-dark:#4b2bb4;
        --success:#16a34a;

        --surface:#FFFFFF;
        --surface-soft:#f7f1ff;

        --radius-lg:24px;
        --radius-md:16px;
        --shadow-soft:0 14px 32px rgba(87,63,158,0.22);

        --text-xs:.75rem;
        --text-sm:.875rem;
        --text-base:1rem;
        --text-lg:1.125rem;
        --text-xl:1.25rem;
        --text-2xl:1.5rem;
    }

    *{
        margin:0;
        padding:0;
        box-sizing:border-box;
        font-family:'Poppins',sans-serif;
        -webkit-tap-highlight-color:transparent;
    }

    html,body{
        height:100%;
    }

    body{
        min-height:100vh;
        background:radial-gradient(circle at top,#e4d8ff,#f4efff);
        color:var(--text-main);
        position:relative;
        overflow-x:hidden;
    }

    body::before,
    body::after{
        content:'';
        position:fixed;
        border-radius:999px;
        filter:blur(40px);
        opacity:0.8;
        z-index:-1;
    }
    body::before{
        width:260px;
        height:260px;
        background:radial-gradient(circle,
            rgba(241,7,163,0.55),
            rgba(123,47,247,0.25),
            transparent 70%);
        top:-60px;
        left:-40px;
    }
    body::after{
        width:280px;
        height:280px;
        background:radial-gradient(circle,
            rgba(56,189,248,0.5),
            rgba(123,47,247,0.2),
            transparent 70%);
        bottom:-80px;
        right:-40px;
    }

    .mobile-app{
        width:100%;
        min-height:100vh;
        background:linear-gradient(
            180deg,
            rgba(244,239,255,0.96) 0%,
            rgba(247,241,255,0.98) 40%,
            rgba(247,241,255,1) 100%
        );
        border-radius:0;
        overflow-y:auto;
        box-shadow:0 30px 80px rgba(148,140,200,0.35);
        display:flex;
        flex-direction:column;
        position:relative;
    }

    /* ===== UNIFIED HEADER ===== */
    .main-header {
        height: 70px;
        background: linear-gradient(90deg, rgba(255,255,255,0.98), rgba(250,245,255,0.98));
        padding: 0 20px;
        border-bottom: 1px solid rgba(123,47,247,0.15);
        display: flex;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 100;
        backdrop-filter: blur(16px) saturate(160%);
        -webkit-backdrop-filter: blur(16px) saturate(160%);
    }

    /* Desktop Header Layout */
    @media (min-width: 900px) {
        .main-header {
            justify-content: center; /* Center the logo */
            position: relative;
        }
        /* Left: Navigation links */
        .nav-links {
            position: absolute;
            left: 40px;
            display: flex;
        }
        /* Center: Logo */
        .logo-section {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }
        /* Right: Actions */
        .header-actions {
            position: absolute;
            right: 40px;
        }
    }

    /* Tablet: Hide Support to prevent overlap */
    @media (min-width: 900px) and (max-width: 1100px) {
        .nav-links {
            gap: 18px;
        }
        .nav-link:nth-child(5) { /* Support */
            display: none;
        }
    }

    /* Mobile Header Layout */
    @media (max-width: 899px) {
        .main-header {
            padding: 0 15px;
            justify-content: space-between; /* For mobile: left, center, right */
        }
        /* Left: Categories button */
        .mobile-header-left {
            display: flex;
            align-items: center;
        }
        .mobile-categories-btn {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: rgba(244,239,255,0.95);
            border: 1px solid rgba(197,181,255,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--accent-start);
            cursor: pointer;
            transition: all 0.2s;
        }
        .mobile-categories-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(148,140,200,0.5);
        }
        /* Center: Logo */
        .logo-section {
            position: static;
            transform: none;
        }
        .logo-text {
            font-size: 1.1rem; /* Smaller logo on mobile */
        }
        .logo-icon {
            width: 32px;
            height: 32px;
            font-size: 16px;
        }
        /* Right: Notifications only */
        .mobile-header-right {
            display: flex;
            align-items: center;
        }
        /* Hide on mobile */
        .chatbot-btn,
        .user-avatar {
            display: none !important;
        }
        .mobile-menu-btn {
            display: none; /* Hide old menu button */
        }
    }

    /* NEW: Remove black box from desktop logo */
    @media (min-width: 900px) {
        .logo-section::before,
        .logo-section::after {
            display: none !important;
        }
        .logo-section {
            background: none !important;
            border: none !important;
            box-shadow: none !important;
        }
    }

    /* Logo Section */
    .logo-section {
        display: flex;
        align-items: center;
        gap: 8px; /* Reduced gap */
    }

    .logo-icon {
        width: 32px;
        height: 32px;
        border-radius: 12px;
        background: linear-gradient(135deg, var(--accent-start), var(--accent-end));
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 16px;
        font-weight: bold;
        box-shadow: 0 6px 16px rgba(123,47,247,0.3);
    }

    .logo-text {
        font-size: 1.1rem;
        font-weight: 700;
        background: linear-gradient(135deg, var(--accent-start), var(--accent-end));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: -0.5px;
    }

    /* Navigation Links - Desktop */
    .nav-links {
        display: none;
        align-items: center;
        gap: 28px;
        font-size: var(--text-base);
    }

    @media (min-width: 900px) {
        .nav-links {
            display: flex;
        }
    }

    .nav-link {
        cursor: pointer;
        color: var(--text-muted);
        position: relative;
        padding-bottom: 6px;
        transition: color 0.2s;
        font-weight: 500;
        white-space: nowrap;
    }
    .nav-link:hover {
        color: var(--accent-start);
    }
    .nav-link.active {
        font-weight: 600;
        color: var(--accent-start);
    }
    .nav-link.active::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 3px;
        border-radius: 999px;
        background: linear-gradient(90deg, var(--accent-start), var(--accent-end));
    }

    /* Header Actions */
    .header-actions {
        display: flex;
        align-items: center;
        gap: 12px; /* Reduced gap */
    }

    /* Notification Button - Simplified */
    .notif-btn {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(244,239,255,0.95);
        border: 1px solid rgba(197,181,255,0.9);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        cursor: pointer;
        color: var(--accent-start);
        position: relative;
        transition: all 0.2s;
    }
    .notif-btn::after {
        content: '';
        position: absolute;
        top: 10px;
        right: 10px;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #f97316;
        box-shadow: 0 0 0 2px rgba(249,115,22,0.3);
    }
    .notif-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(148,140,200,0.5);
    }

    /* Enhanced Profile Avatar */
    .user-avatar {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--accent-start), var(--accent-end));
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-weight: 700;
        box-shadow: 0 8px 20px rgba(123,47,247,.45);
        cursor: pointer;
    }

    /* Mobile Side Menu */
    .mobile-side-menu {
        position: fixed;
        top: 0;
        left: -280px;
        width: 280px;
        height: 100vh;
        background: rgba(255,255,255,0.98);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        z-index: 1000;
        padding: 80px 20px 20px;
        transition: left 0.3s ease;
        box-shadow: 10px 0 40px rgba(148,140,200,0.3);
        border-right: 1px solid rgba(123,47,247,0.15);
    }
    .mobile-side-menu.active {
        left: 0;
    }
    .mobile-nav-links {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    .mobile-nav-link {
        padding: 15px;
        border-radius: 12px;
        font-size: var(--text-base);
        color: var(--text-muted);
        font-weight: 500;
        transition: all 0.2s;
        cursor: pointer;
    }
    .mobile-nav-link:hover,
    .mobile-nav-link.active {
        background: rgba(123,47,247,0.08);
        color: var(--accent-start);
    }
    .mobile-nav-link.active {
        font-weight: 600;
    }

    /* Overlay for mobile menu */
    .menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(15,7,40,0.3);
        backdrop-filter: blur(4px);
        z-index: 999;
        display: none;
    }
    .menu-overlay.active {
        display: block;
    }

    /* ===== DETAIL PAGE LAYOUT ===== */
    main.detail-page{
        flex:1;
        padding:22px 16px 36px;
    }
    @media(min-width:900px){
        main.detail-page{
            padding:32px 40px 52px;
        }
    }
    @media(min-width:1200px){
        main.detail-page{
            padding:40px 60px 70px;
        }
    }

    .detail-shell{
        max-width:720px;
        margin:0 auto 24px;
    }

    /* ===== BACK LINK ===== */
    .back-link{
        display:inline-flex;
        align-items:center;
        gap:8px;
        font-size:var(--text-sm);
        color:var(--accent-start);
        margin-bottom:24px;
        cursor:pointer;
        font-weight:500;
        transition:color 0.2s, background 0.2s;
        padding:6px 12px;
        border-radius:12px;
        background:rgba(123,47,247,0.05);
    }
    .back-link:hover{
        color:var(--accent-end);
        background:rgba(123,47,247,0.12);
    }

    /* ===== PRODUCT DISPLAY - CENTERED ===== */
    .product-display-section{
        text-align:center;
        margin-bottom:32px;
    }

    .product-hero{
        border-radius:var(--radius-lg);
        padding:24px 20px 26px;
        background:
            radial-gradient(circle at top left,
                rgba(123,47,247,0.16),
                rgba(241,7,163,0.12),
                rgba(255,255,255,0.95));
        box-shadow:var(--shadow-soft);
        position:relative;
        overflow:hidden;
        border:1px solid var(--glass-border);
        margin-bottom:24px;
    }
    @media(min-width:900px){
        .product-hero{
            padding:28px 28px 30px;
            margin-bottom:28px;
        }
    }

    .product-image-container{
        width:220px;
        height:220px;
        margin:0 auto 20px;
        position:relative;
    }
    @media(min-width:900px){
        .product-image-container{
            width:260px;
            height:260px;
            margin-bottom:24px;
        }
    }

    .product-main-image{
        width:100%;
        height:100%;
        border-radius:20px;
        background:linear-gradient(145deg,#f4efff,#fdf2ff);
        display:flex;
        align-items:center;
        justify-content:center;
        border:1px solid rgba(230,225,255,0.9);
        box-shadow:0 12px 32px rgba(148,140,200,0.4);
        transition:border-color 0.2s;
        overflow:hidden;
    }
    .product-main-image img {
        width:100%;
        height:100%;
        object-fit:contain;
        border-radius:20px;
    }
    @media(min-width:900px){
        .product-main-image img {
            object-fit:contain;
        }
    }

    .product-badge{
        position:absolute;
        top:12px;
        left:12px;
        font-size:var(--text-xs);
        padding:6px 12px;
        border-radius:999px;
        background:rgba(123,47,247,0.96);
        color:#F9F5FF;
        font-weight:600;
        z-index:2;
    }

    /* Discount Badge - NEW */
    .discount-badge {
        position: absolute;
        top: 12px;
        right: 12px;
        background: #F43F5E;
        color: #fff;
        font-size: 11px;
        font-weight: 700;
        padding: 4px 10px;
        border-radius: 999px;
        box-shadow: 0 6px 16px rgba(244,63,94,.45);
        z-index: 2;
    }

    .product-title-main{
        font-size:var(--text-xl);
        font-weight:700;
        color:var(--text-main);
        margin-bottom:8px;
        line-height:1.3;
    }
    @media(min-width:900px){
        .product-title-main{
            font-size:1.6rem;
        }
    }

    .product-subtitle{
        font-size:var(--text-sm);
        color:var(--text-muted);
        margin-bottom:18px;
        line-height:1.5;
        max-width:520px;
        margin-left:auto;
        margin-right:auto;
    }
    @media(min-width:900px){
        .product-subtitle{
            font-size:var(--text-base);
            margin-bottom:20px;
        }
    }

    .product-price-display{
        display:inline-flex;
        align-items:center;
        gap:8px;
        padding:10px 20px;
        border-radius:999px;
        background:rgba(255,255,255,0.95);
        border:1px solid rgba(230,225,255,0.95);
        box-shadow:0 10px 24px rgba(148,140,200,0.4);
        font-size:var(--text-lg);
        font-weight:700;
        color:var(--accent-start);
    }
    @media(min-width:900px){
        .product-price-display{
            padding:12px 26px;
            font-size:1.4rem;
        }
    }

    .product-thumbnails{
        display:flex;
        gap:12px;
        justify-content:center;
        flex-wrap:wrap;
        margin-top:18px;
    }

    .product-thumb{
        width:56px;
        height:56px;
        border-radius:14px;
        background:#FFF;
        display:flex;
        align-items:center;
        justify-content:center;
        cursor:pointer;
        opacity:0.7;
        transition:all 0.2s;
        border:1px solid rgba(230,225,255,0.9);
        box-shadow:0 6px 16px rgba(148,140,200,0.25);
        overflow:hidden;
    }
    .product-thumb img {
        width:100%;
        height:100%;
        object-fit:cover;
        border-radius:14px;
    }
    .product-thumb:hover{
        opacity:0.9;
        transform:translateY(-2px);
    }
    .product-thumb.active{
        opacity:1;
        border:2px solid var(--accent-start);
        transform:translateY(-2px);
        box-shadow:0 10px 24px rgba(123,47,247,0.5);
    }

    /* ===== PRODUCT INFO - BELOW THE PRODUCT ===== */
    .product-info-section{
        display:flex;
        flex-direction:column;
        gap:24px;
    }
    @media(min-width:900px){
        .product-info-section{
            gap:28px;
        }
    }

    /* Rating & Status */
    .product-meta-row{
        display:flex;
        justify-content:space-between;
        align-items:center;
        flex-wrap:wrap;
        gap:12px;
        margin-bottom:4px;
    }

    .product-rating{
        display:flex;
        align-items:center;
        gap:8px;
    }

    .rating-stars{
        color:#FACC15;
        font-size:var(--text-sm);
    }

    .rating-text{
        font-size:var(--text-sm);
        color:var(--text-muted);
    }

    .product-status{
        padding:6px 14px;
        border-radius:999px;
        font-size:var(--text-xs);
        background:linear-gradient(135deg,#22c55e,#16a34a);
        color:#FFF;
        font-weight:600;
        white-space:nowrap;
    }

    /* Options Section */
    .options-section{
        background:#FFF;
        border-radius:var(--radius-md);
        border:1px solid rgba(230,225,255,0.95);
        padding:20px 18px;
        box-shadow:0 8px 24px rgba(148,140,200,0.15);
    }
    @media(min-width:900px){
        .options-section{
            padding:24px 24px;
        }
    }

    .options-grid{
        display:grid;
        grid-template-columns:1fr;
        gap:20px;
    }
    @media(min-width:640px){
        .options-grid{
            grid-template-columns:1fr 1fr;
        }
    }

    .option-group{
        display:flex;
        flex-direction:column;
        gap:12px;
    }

    .option-header{
        display:flex;
        justify-content:space-between;
        align-items:center;
    }

    .option-label{
        font-size:var(--text-sm);
        font-weight:600;
        color:var(--text-main);
    }

    .option-selected{
        font-size:var(--text-xs);
        color:var(--accent-start);
        font-weight:600;
    }

    .option-choices{
        display:flex;
        flex-direction:column;
        gap:10px;
    }

    .option-choice{
        display:flex;
        align-items:center;
        gap:12px;
        padding:12px 14px;
        border-radius:16px;
        border:1px solid rgba(230,225,255,0.9);
        background:#F9F5FF;
        cursor:pointer;
        transition:all 0.2s;
        text-align:left;
    }
    @media(min-width:900px){
        .option-choice{
            padding:14px 16px;
        }
    }

    .option-choice:hover{
        border-color:var(--accent-start);
        transform:translateY(-2px);
        box-shadow:0 8px 18px rgba(148,140,200,0.3);
    }

    .option-choice.active{
        background:linear-gradient(135deg,var(--accent-start),var(--accent-end));
        border-color:transparent;
        color:#FDF4FF;
        box-shadow:0 10px 24px rgba(123,47,247,0.6);
    }

    .color-indicator{
        width:24px;
        height:24px;
        border-radius:999px;
        border:2px solid #FFF;
        box-shadow:0 0 0 1px rgba(0,0,0,0.08);
        flex-shrink:0;
    }

    .option-details{
        flex:1;
    }

    .option-name{
        font-size:var(--text-sm);
        font-weight:600;
        margin-bottom:2px;
    }

    .option-description{
        font-size:var(--text-xs);
        color:var(--text-muted);
    }
    .option-choice.active .option-description{
        color:rgba(255,255,255,0.9);
    }

    /* Features Row */
    .features-row{
        display:flex;
        gap:10px;
        flex-wrap:wrap;
        margin-top:10px;
    }
    @media(min-width:900px){
        .features-row{
            gap:14px;
            margin-top:14px;
        }
    }

    .feature-chip{
        display:inline-flex;
        align-items:center;
        gap:8px;
        padding:8px 14px;
        border-radius:999px;
        background:rgba(244,239,255,0.9);
        color:var(--text-main);
        font-size:var(--text-sm);
        font-weight:500;
        border:1px solid rgba(230,225,255,0.9);
        transition:all 0.2s;
        cursor:pointer;
    }
    @media(min-width:900px){
        .feature-chip{
            padding:10px 18px;
        }
    }
    .feature-chip:hover{
        background:rgba(230,225,255,0.9);
        transform:translateY(-2px);
    }

    .feature-chip.ar{
        background:rgba(255,255,255,0.95);
        color:var(--text-main);
        font-weight:600;
        box-shadow:0 10px 24px rgba(148,140,200,0.4);
        border:1px solid rgba(230,225,255,0.9);
    }

    /* Tabs */
    .tabs-section{
        margin-top:8px;
    }

    .tabs-header{
        display:flex;
        gap:24px;
        border-bottom:1px solid rgba(230,225,255,0.9);
        margin-bottom:18px;
        padding-bottom:4px;
        overflow-x:auto;
    }

    .tab-button{
        border:none;
        background:transparent;
        padding:10px 0;
        font-size:var(--text-base);
        color:var(--text-muted);
        cursor:pointer;
        border-bottom:2px solid transparent;
        transition:all 0.2s;
        font-weight:500;
        white-space:nowrap;
    }
    .tab-button:hover{
        color:var(--accent-start);
    }
    .tab-button.active{
        color:var(--accent-start);
        font-weight:600;
        border-bottom-color:var(--accent-start);
    }

    .tab-content{
        font-size:var(--text-base);
        color:var(--text-muted);
        line-height:1.6;
    }
    .tab-content p{
        margin-bottom:12px;
    }

    /* Seller Card */
    .seller-card{
        display:flex;
        align-items:center;
        gap:16px;
        padding:18px 18px;
        border-radius:var(--radius-md);
        background:#FFF;
        border:1px solid rgba(230,225,255,0.95);
        margin:20px 0 16px;
        cursor:pointer;
        transition:all 0.2s;
        box-shadow:0 8px 20px rgba(148,140,200,0.15);
    }
    .seller-card:hover{
        transform:translateY(-2px);
        box-shadow:0 12px 28px rgba(148,140,200,0.25);
    }

    .seller-avatar{
        width:52px;
        height:52px;
        border-radius:999px;
        background:linear-gradient(135deg,var(--accent-start),var(--accent-end));
        display:flex;
        align-items:center;
        justify-content:center;
        font-size:24px;
        color:#FFF;
    }

    .seller-info{
        flex:1;
    }

    .seller-name{
        font-size:var(--text-base);
        font-weight:600;
        color:var(--text-main);
        margin-bottom:4px;
    }

    .seller-details{
        font-size:var(--text-sm);
        color:var(--text-muted);
    }

    /* Action Buttons */
    .action-buttons{
        display:flex;
        gap:12px;
        margin:20px 0 22px;
    }

    .action-button{
        flex:1;
        border:none;
        border-radius:999px;
        padding:14px 16px;
        font-size:var(--text-base);
        font-weight:600;
        cursor:pointer;
        display:flex;
        align-items:center;
        justify-content:center;
        gap:8px;
        transition:all 0.2s;
    }
    @media(min-width:900px){
        .action-button{
            padding:16px 22px;
            font-size:var(--text-lg);
        }
    }

    .action-button.primary{
        background:linear-gradient(135deg,var(--accent-start),var(--accent-end));
        color:#FFF;
        box-shadow:0 14px 32px rgba(123,47,247,0.6);
    }
    .action-button.primary:hover{
        transform:translateY(-2px);
        box-shadow:0 18px 38px rgba(123,47,247,0.8);
    }

    .action-button.secondary{
        background:transparent;
        border:1px solid rgba(123,47,247,0.4);
        color:var(--accent-start);
    }
    .action-button.secondary:hover{
        background:rgba(123,47,247,0.05);
        border-color:var(--accent-start);
        transform:translateY(-2px);
    }

    /* Trust Card */
    .trust-card{
        border-radius:var(--radius-md);
        padding:20px 20px;
        background:rgba(255,255,255,0.98);
        border:1px solid rgba(230,225,255,0.95);
        box-shadow:0 12px 30px rgba(148,140,200,0.25);
        display:flex;
        flex-direction:column;
        gap:12px;
    }

    .trust-header{
        display:flex;
        align-items:center;
        gap:12px;
        flex-wrap:wrap;
    }

    .trust-badge{
        display:inline-flex;
        align-items:center;
        gap:6px;
        padding:8px 14px;
        border-radius:999px;
        background:linear-gradient(135deg,var(--success),#22c55e);
        color:#FFF;
        font-size:var(--text-sm);
        font-weight:600;
    }

    .trust-status{
        font-size:var(--text-sm);
        color:var(--text-muted);
    }

    .trust-description{
        font-size:var(--text-base);
        color:var(--text-muted);
        line-height:1.5;
    }

    .trust-link{
        font-size:var(--text-sm);
        color:var(--accent-start);
        font-weight:600;
        cursor:pointer;
        display:inline-flex;
        align-items:center;
        gap:4px;
    }
    .trust-link:hover{
        color:var(--accent-end);
    }

    /* ===== FLOATING ACTIONS ===== */
    .floating-actions {
        position: fixed;
        right: 18px;
        bottom: 20px;
        display: flex;
        flex-direction: column;
        gap: 14px;
        z-index: 1000;
    }

    .fab-btn {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 22px;
        cursor: pointer;
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.25);
    }

    .fab-btn span {
        display: none;
    }

    .fab-chat {
        background: linear-gradient(135deg, #7b2ff7, #f107a3);
        color: #fff;
    }

    .fab-cart {
        background: linear-gradient(135deg, #16a34a, #22c55e);
        color: #fff;
    }

    @media(min-width:1024px){
        .floating-actions{
            display:none;
        }
    }

    /* ===== MODAL ===== */
    .modal-backdrop{
        position:fixed;
        inset:0;
        background:rgba(15,7,40,0.25);
        display:none;
        align-items:center;
        justify-content:center;
        z-index:80;
        backdrop-filter:blur(10px);
        -webkit-backdrop-filter:blur(10px);
    }
    .modal-backdrop.show{
        display:flex;
    }
    .modal-card{
        background:rgba(255,255,255,0.98);
        border-radius:24px;
        padding:24px 22px 22px;
        max-width:360px;
        width:90%;
        text-align:center;
        box-shadow:0 24px 60px rgba(148,140,200,0.7);
        backdrop-filter:blur(18px);
        -webkit-backdrop-filter:blur(18px);
        border:1px solid var(--glass-border);
        animation:popIn .3s ease-out;
    }
    .modal-emoji{
        font-size:48px;
        margin-bottom:8px;
    }
    .modal-title{
        font-size:var(--text-lg);
        font-weight:600;
        margin-bottom:6px;
        color:var(--text-main);
    }
    .modal-text{
        font-size:var(--text-sm);
        color:var(--text-muted);
        margin-bottom:16px;
        line-height:1.5;
    }
    .modal-btn{
        width:100%;
        padding:12px 16px;
        border-radius:999px;
        border:none;
        cursor:pointer;
        font-size:var(--text-base);
        font-weight:600;
        background:linear-gradient(135deg,var(--accent-start),var(--accent-end));
        color:#FFF;
        box-shadow:0 10px 24px rgba(123,47,247,.6);
        transition:all 0.2s;
    }
    .modal-btn:hover{
        transform:translateY(-2px);
        box-shadow:0 14px 28px rgba(123,47,247,.8);
    }
    @keyframes popIn{
        0%{transform:scale(.85) translateY(10px);opacity:0;}
        100%{transform:scale(1) translateY(0);opacity:1;}
    }
    .mobile-categories-btn{
    display: none;
}
@media (max-width: 899px){
    .mobile-categories-btn{
        display: flex;
    }
}
/* Tablet fix: prevent Support overlapping logo */
.quantity-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:16px;
}

.quantity-row input{
    width:90px;
    padding:10px;
    border-radius:12px;
    border:1px solid rgba(123,47,247,0.4);
    text-align:center;
    font-weight:600;
}

.action-button.big{
    width:100%;
    padding:18px;
    font-size:1.1rem;
    margin-bottom:14px;
}

.secondary-row{
    display:flex;
    gap:12px;
}

.bulk-btn,
.ar-btn{
    flex:1;
    padding:12px;
    border-radius:999px;
    font-weight:600;
    cursor:pointer;
}

.bulk-btn{
    background:#fff;
    border:1px solid rgba(123,47,247,0.4);
    color:var(--accent-start);
}

.ar-btn{
    background:linear-gradient(135deg,#7b2ff7,#f107a3);
    color:#fff;
    border:none;
}
/* =========================
   SMART HEADER VISIBILITY
   ========================= */

/* üîπ ÿßŸÑÿ≠ÿßŸÑÿ© 1: ÿ¥ÿßÿ¥ÿßÿ™ ŸÖÿ™Ÿàÿ≥ÿ∑ÿ© (Tablet) */
@media (min-width: 900px) and (max-width: 1200px) {
    .nav-support {
        display: none;
    }
}

/* üîπ ÿßŸÑÿ≠ÿßŸÑÿ© 2: ÿ¥ÿßÿ¥ÿßÿ™ ÿ£ÿ∂ŸäŸÇ (Tablet ÿµÿ∫Ÿäÿ±) */
@media (min-width: 900px) and (max-width: 1050px) {
    .nav-sellers {
        display: none;
    }
}
/* ===== Quantity Selector ===== */
.quantity-wrapper{
    display:flex;
    flex-direction:column;
    gap:8px;
    margin:24px 0 20px;
}

.quantity-label{
    font-size:var(--text-sm);
    font-weight:600;
    color:var(--text-main);
}

.quantity-control{
    display:inline-flex;
    align-items:center;
    gap:14px;
    padding:10px 16px;
    border-radius:999px;
    background:rgba(255,255,255,0.9);
    border:1px solid rgba(230,225,255,0.9);
    box-shadow:0 10px 24px rgba(148,140,200,0.35);
    width:max-content;
}

.qty-btn{
    width:34px;
    height:34px;
    border-radius:50%;
    border:none;
    background:linear-gradient(135deg,var(--accent-start),var(--accent-end));
    color:#fff;
    font-size:18px;
    font-weight:700;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 6px 16px rgba(123,47,247,.45);
    transition:.2s;
}

.qty-btn:hover{
    transform:translateY(-2px);
}

#qtyValue{
    min-width:28px;
    text-align:center;
    font-size:var(--text-lg);
    font-weight:700;
    color:var(--text-main);
}


</style>
</head>
<body>

<div class="mobile-app">

    <!-- UNIFIED HEADER -->
    <header class="main-header">
        <!-- Mobile: Categories button (left) -->
        <div class="mobile-header-left">
            <button class="mobile-categories-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <!-- Center: Logo -->
        <div class="logo-section">
            <div class="logo-icon">üõçÔ∏è</div>
            <div class="logo-text">SmartBazaar</div>
        </div>

        <!-- Desktop Navigation -->
      <div class="nav-links">
    <span class="nav-link" onclick="window.location.href='homeFINAL.html'">Home</span>
    <span class="nav-link active">Product Details</span>
    <span class="nav-link">Categories</span>

    <!-- üëá ÿ£ÿ∂ŸÅ class -->
    <span class="nav-link nav-sellers">Sellers</span>
    <span class="nav-link nav-support">Support</span>
</div>

        <!-- Header Actions -->
        <div class="header-actions">
            <!-- Enhanced Avatar -->
            <div class="user-avatar" onclick="openProfile()">
                AK
            </div>

            <!-- Notification Button -->
            <button class="notif-btn" onclick="showNotification()">
                <i class="fas fa-bell"></i>
            </button>
        </div>
    </header>

    <!-- Mobile Side Menu -->
    <div class="mobile-side-menu" id="mobileSideMenu">
        <div class="mobile-nav-links">
            <div class="mobile-nav-link" onclick="window.location.href='homeFINAL.html'">Home</div>
            <div class="mobile-nav-link active">Product Details</div>
            <div class="mobile-nav-link">Categories</div>
            <div class="mobile-nav-link">Sellers</div>
            <div class="mobile-nav-link">Support</div>
            <div class="mobile-nav-link">My Orders</div>
            <div class="mobile-nav-link">Wishlist</div>
            <div class="mobile-nav-link">Settings</div>
            <div class="mobile-nav-link" onclick="openChat()">Chat Support</div>
        </div>
    </div>
    
    <!-- Overlay for mobile menu -->
    <div class="menu-overlay" id="menuOverlay" onclick="closeMobileMenu()"></div>

    <!-- PRODUCT DETAIL CONTENT -->
    <main class="detail-page">
        <div class="detail-shell">

            <!-- Back Navigation -->
            <div class="back-link" onclick="goBack()">
                ‚Üê Back to products
            </div>

            <!-- PRODUCT DISPLAY - CENTERED -->
            <section class="product-display-section">
                <div class="product-hero">
                    <div class="product-image-container">
                        
                        <span class="discount-badge" id="discount-badge">-15%</span>
                        <div class="product-main-image" id="product-main-image">
                            <img id="product-main-img" src="" alt="Product Image">
                        </div>
                    </div>
                    
                    <h1 class="product-title-main" id="product-title-main">Sony WH-1000XM5 Wireless Headphones</h1>
                    
                    <p class="product-subtitle" id="product-subtitle">
                        Industry-leading noise cancellation with 30-hour battery life. Perfect for work, travel, and immersive listening experiences.
                    </p>
                    
                    <div class="product-price-display">
                        <span id="current-price">45,000 DZD</span>
                    </div>
                </div>

                <!-- Thumbnails -->
                <div class="product-thumbnails" id="product-thumbnails">
                    <!-- Thumbnails will be loaded dynamically -->
                </div>
            </section>

            <!-- PRODUCT INFO - BELOW THE PRODUCT -->
            <section class="product-info-section">
                <!-- Rating & Status -->
                <div class="product-meta-row">
                    <div class="product-rating">
                        <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        <span class="rating-text" id="rating-text">4.8 ‚Ä¢ 120 verified reviews</span>
                    </div>
                    <div class="product-status">In Stock ‚Ä¢ Ready to Ship</div>
                </div>

                <!-- Options Section -->
                <div class="options-section">
                    <h3 style="font-size:var(--text-lg); margin-bottom:18px; color:var(--text-main);">
                        Customize your product
                    </h3>
                    
                    <div class="options-grid">
                        <!-- Color Option -->
                        <div class="option-group">
                            <div class="option-header">
                                <span class="option-label">Color</span>
                                <span class="option-selected" id="selected-color">Midnight Purple</span>
                            </div>
                            <div class="option-choices color-options">
                                <div class="option-choice active" onclick="selectColor(this,'Midnight Purple','#7b2ff7')">
                                    <div class="color-indicator" style="background:#7b2ff7;"></div>
                                    <div class="option-details">
                                        <div class="option-name">Midnight Purple</div>
                                        <div class="option-description">Signature SmartBazaar finish</div>
                                    </div>
                                </div>
                                <div class="option-choice" onclick="selectColor(this,'Silver Frost','#e5e7eb')">
                                    <div class="color-indicator" style="background:#e5e7eb;"></div>
                                    <div class="option-details">
                                        <div class="option-name">Silver Frost</div>
                                        <div class="option-description">Elegant matte finish</div>
                                    </div>
                                </div>
                                <div class="option-choice" onclick="selectColor(this,'Matte Black','#111827')">
                                    <div class="color-indicator" style="background:#111827;"></div>
                                    <div class="option-details">
                                        <div class="option-name">Matte Black</div>
                                        <div class="option-description">Professional look</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Package Option -->
                        <div class="option-group">
                            <div class="option-header">
                                <span class="option-label">Package</span>
                                <span class="option-selected" id="selected-package">Standard</span>
                            </div>
                            <div class="option-choices package-options">
                                <div class="option-choice active" onclick="selectPackage(this,'Standard','45,000 DZD')">
                                    <div class="option-details">
                                        <div class="option-name">Standard Edition</div>
                                        <div class="option-description">Headphones only</div>
                                    </div>
                                </div>
                                <div class="option-choice" onclick="selectPackage(this,'Travel Bundle','49,500 DZD')">
                                    <div class="option-details">
                                        <div class="option-name">Travel Bundle</div>
                                        <div class="option-description">+ Case & accessories</div>
                                    </div>
                                </div>
                                <div class="option-choice" onclick="selectPackage(this,'Premium Pack','54,000 DZD')">
                                    <div class="option-details">
                                        <div class="option-name">Premium Pack</div>
                                        <div class="option-description">Full accessory kit</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Features -->
                <div class="features-row">
                    <button class="feature-chip ar" onclick="openArViewer()">
                        <span>üï∂Ô∏è</span>
                        <span>View in AR</span>
                    </button>
                    <div class="feature-chip" onclick="showWarranty()">
                        <span>‚ö°</span>
                        <span>1-Year Warranty</span>
                    </div>
                    <div class="feature-chip" onclick="showDeliveryInfo()">
                        <span>üöö</span>
                        <span>Free Delivery</span>
                    </div>
                    <div class="feature-chip" onclick="showReturnPolicy()">
                        <span>‚Ü©Ô∏è</span>
                        <span>Easy Returns</span>
                    </div>
                </div>

                <!-- Tabs Section -->
                <div class="tabs-section">
                    <div class="tabs-header">
                        <button class="tab-button active" data-tab="description" onclick="switchTab('description')">Description</button>
                        <button class="tab-button" data-tab="specs" onclick="switchTab('specs')">Specifications</button>
                        <button class="tab-button" data-tab="reviews" onclick="switchTab('reviews')">Reviews</button>
                        <button class="tab-button" data-tab="support" onclick="switchTab('support')">Support</button>
                    </div>
                    
                    <div id="tab-description" class="tab-content">
                        <p>Experience unparalleled sound quality with the Sony WH-1000XM5 wireless headphones. Featuring industry-leading noise cancellation technology, these headphones create a personal listening sanctuary wherever you go.</p>
                        <p>With 30-hour battery life and quick charging, you'll enjoy your favorite music, podcasts, and calls all day long. The ergonomic design ensures comfort during extended wear, making them perfect for work, travel, and leisure.</p>
                        <p>Every SmartBazaar product undergoes strict quality verification to ensure you receive authentic, factory-sealed items with full manufacturer warranty.</p>
                    </div>
                    
                    <div id="tab-specs" class="tab-content" style="display:none;">
                        <p><strong>Brand:</strong> Sony</p>
                        <p><strong>Model:</strong> WH-1000XM5</p>
                        <p><strong>Connectivity:</strong> Bluetooth 5.3, NFC</p>
                        <p><strong>Battery Life:</strong> Up to 30 hours</p>
                        <p><strong>Charging:</strong> USB-C, 3-hour quick charge</p>
                        <p><strong>Weight:</strong> 250g (without cable)</p>
                        <p><strong>Noise Cancellation:</strong> Adaptive Sound Control</p>
                        <p><strong>Warranty:</strong> 1 year manufacturer warranty</p>
                    </div>
                    
                    <div id="tab-reviews" class="tab-content" style="display:none;">
                        <p><strong>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ Ahmed M.</strong> - "Best headphones I've ever owned! The noise cancellation is magical for focused work sessions."</p>
                        <p><strong>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ Sara K.</strong> - "Perfect for travel. Comfortable for long flights and battery lasts forever."</p>
                        <p><strong>‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ Omar T.</strong> - "Great sound quality, though the case could be more protective. Still highly recommend!"</p>
                    </div>
                    
                    <div id="tab-support" class="tab-content" style="display:none;">
                        <p>Need help with your purchase? Our support team is here for you:</p>
                        <p><strong>Live Chat:</strong> Available 24/7 for instant assistance</p>
                        <p><strong>Phone Support:</strong> 023-XX-XX-XX (9 AM - 6 PM)</p>
                        <p><strong>Email:</strong> support@smartbazaar.dz</p>
                        <p><strong>Returns:</strong> 30-day return policy for unused items</p>
                    </div>
                </div>

                <!-- Seller Information -->
                <div class="seller-card" onclick="viewSellerProfile()">
                    <div class="seller-avatar">üë§</div>
                    <div class="seller-info">
                        <div class="seller-name">TechStore DZ - Verified Seller</div>
                        <div class="seller-details">‚≠ê 4.8/5 rating ‚Ä¢ 1,250+ sales ‚Ä¢ 98% positive feedback</div>
                        <div class="seller-details">üìç Based in Algiers ‚Ä¢ Ships nationwide in 2‚Äì3 days</div>
                    </div>
                </div>

                <!-- Action Buttons -->
             <!-- Quantity -->
<!-- Quantity Selector -->
<div class="quantity-wrapper">
    <span class="quantity-label">Quantity</span>

    <div class="quantity-control">
        <button class="qty-btn" onclick="changeQty(-1)">‚àí</button>
        <span id="qtyValue">1</span>
        <button class="qty-btn" onclick="changeQty(1)">+</button>
    </div>
</div>

<!-- Main CTA -->
<button class="action-button primary big" onclick="addToCart()">
    üõí Add to Cart
</button>

<!-- Secondary buttons -->
<div class="secondary-row">
    <button class="bulk-btn">Bulk purchase</button>
    <button class="ar-btn" onclick="openArViewer()">üï∂Ô∏è AR</button>
</div>

                <!-- Trust & Safety -->
                <div class="trust-card">
                    <div class="trust-header">
                        <span class="trust-badge">Trust DZ Protection üîí</span>
                        <span class="trust-status">Active for this purchase</span>
                    </div>
                    <p class="trust-description">
                        Your payment is secured by SmartBazaar's Trust DZ system. We verify sellers, monitor orders, and ensure safe delivery before releasing funds to the seller.
                    </p>
                    <span class="trust-link" onclick="learnAboutTrust()">
                        Learn how Trust DZ protects your purchase ‚Üí
                    </span>
                </div>
            </section>
        </div>
    </main>
</div>

<!-- FLOATING ACTIONS -->
<div class="floating-actions">
    <button class="fab-btn fab-chat" type="button" onclick="openChat()">
        <i class="fas fa-robot"></i>
        <span>Chat now</span>
    </button>
    <button class="fab-btn fab-cart" type="button" onclick="viewCart()">
        <i class="fas fa-shopping-cart"></i>
        <span>View cart</span>
    </button>
</div>

<!-- AR MODAL -->
<div id="arModal" class="modal-backdrop">
    <div class="modal-card">
        <div class="modal-emoji">üï∂Ô∏è</div>
        <div class="modal-title">AR Preview Available</div>
        <div class="modal-text">
            Point your camera at any flat surface to place these headphones in your space. Move around to view from different angles and see how they fit in your environment.
        </div>
        <button type="button" class="modal-btn" onclick="closeArModal()">Try AR Experience</button>
    </div>
</div>

<script>
    // Mobile menu functionality (same as home page)
    function toggleMobileMenu() {
        const menu = document.getElementById('mobileSideMenu');
        const overlay = document.getElementById('menuOverlay');
        menu.classList.toggle('active');
        overlay.classList.toggle('active');
    }

    function closeMobileMenu() {
        const menu = document.getElementById('mobileSideMenu');
        const overlay = document.getElementById('menuOverlay');
        menu.classList.remove('active');
        overlay.classList.remove('active');
    }

    // ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿπŸÜÿØ ŸÅÿ™ÿ≠ ÿßŸÑÿµŸÅÿ≠ÿ©
    function loadProductData() {
        const productData = JSON.parse(localStorage.getItem('selectedProduct'));
        
        if (productData) {
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿπŸÜŸàÿßŸÜ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä
            const titleElement = document.getElementById('product-title-main');
            if (titleElement) {
                titleElement.textContent = productData.title;
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ≥ÿπÿ±
            const priceElement = document.getElementById('current-price');
            if (priceElement) {
                priceElement.textContent = productData.price;
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©
            const mainImage = document.getElementById('product-main-img');
            if (mainImage) {
                if (productData.imageUrl) {
                    mainImage.src = productData.imageUrl;
                } else {
                    // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿµŸàÿ±ÿ© ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ŸÜŸàÿπ ÿßŸÑŸÖŸÜÿ™ÿ¨
                    mainImage.src = getDefaultImage(productData.category);
                }
                mainImage.alt = productData.title;
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ÿßÿØÿ¨
            const badgeElement = document.getElementById('product-badge');
            if (badgeElement && productData.badge) {
                badgeElement.textContent = 'Verified'; // Standardize to Verified
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿÆÿµŸÖ
            const discountBadge = document.getElementById('discount-badge');
            if (discountBadge) {
                // Extract discount from price or use default
                const discount = productData.discount || '-15%';
                discountBadge.textContent = discount;
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸÇŸäŸäŸÖ
            const ratingElement = document.getElementById('rating-text');
            if (ratingElement && productData.rating && productData.reviews) {
                ratingElement.textContent = `${productData.rating} ‚Ä¢ ${productData.reviews} verified reviews`;
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿµŸàÿ± ÿßŸÑŸÖÿµÿ∫ÿ±ÿ©
            loadProductThumbnails(productData);
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸàÿµŸÅ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÖŸÜÿ™ÿ¨
            updateProductDescription(productData);
        }
    }
    
    // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿµŸàÿ±ÿ© ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÅÿ¶ÿ©
    function getDefaultImage(category) {
        const defaultImages = {
            'headphones': 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop',
            'phones': 'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=400&fit=crop',
            'watch': 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop',
            'sneakers': 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=400&fit=crop',
            'beauty': 'https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400&h=400&fit=crop'
        };
        return defaultImages[category] || defaultImages['headphones'];
    }
    
    // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸàÿµŸÅ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÖŸÜÿ™ÿ¨
    function updateProductDescription(productData) {
        const descriptionElement = document.getElementById('product-subtitle');
        if (!descriptionElement) return;
        
        const descriptions = {
            'Sony XM5': 'Industry-leading noise cancellation with 30-hour battery life. Perfect for work, travel, and immersive listening experiences.',
            'Sony WH-1000XM5 Wireless Headphones': 'Industry-leading noise cancellation with 30-hour battery life. Perfect for work, travel, and immersive listening experiences.',
            'Smart Watch': 'Track your fitness, receive notifications, and stay connected with this feature-packed smartwatch. Perfect for active lifestyles.',
            'Nike Air': 'Lightweight and comfortable sneakers with superior cushioning. Ideal for running, walking, or casual everyday wear.',
            'JBL Go 3': 'Portable Bluetooth speaker with powerful sound and waterproof design. Perfect for outdoor adventures and parties.',
            'iPhone 14 Pro': 'Advanced smartphone with ProMotion display, A16 Bionic chip, and professional camera system. The ultimate iPhone experience.',
            'Samsung A34': 'Mid-range smartphone with impressive display, long battery life, and versatile camera setup. Great value for money.',
            'Adidas Run': 'High-performance running shoes with responsive cushioning and breathable design. Built for speed and comfort.',
            'FitBand Pro': 'Fitness tracker with heart rate monitoring, sleep tracking, and long battery life. Your personal health companion.'
        };
        
        descriptionElement.textContent = descriptions[productData.title] || 
            'High-quality product with excellent features and performance. Verified and trusted by SmartBazaar DZ.';
    }
    
    // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸàÿ± ÿßŸÑŸÖÿµÿ∫ÿ±ÿ© ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÖŸÜÿ™ÿ¨
    function loadProductThumbnails(productData) {
        const thumbnailsContainer = document.getElementById('product-thumbnails');
        if (!thumbnailsContainer) return;
        
        // ŸÖÿ≥ÿ≠ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑŸÇÿØŸäŸÖ
        thumbnailsContainer.innerHTML = '';
        
        // ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑÿµŸàÿ± ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿßŸÑŸÖÿ≠ÿØÿØ
        let thumbnailImages = getProductThumbnails(productData);
        
        // ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿµŸàÿ± ÿßŸÑŸÖÿµÿ∫ÿ±ÿ©
        thumbnailImages.forEach((imgSrc, index) => {
            const thumb = document.createElement('div');
            thumb.className = 'product-thumb' + (index === 0 ? ' active' : '');
            thumb.onclick = () => changeProductImage(imgSrc);
            
            const img = document.createElement('img');
            img.src = imgSrc;
            img.alt = `${productData.title} - view ${index + 1}`;
            img.loading = 'lazy';
            
            thumb.appendChild(img);
            thumbnailsContainer.appendChild(thumb);
        });
    }
    
    // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿµŸàÿ± ÿßŸÑŸÖÿµÿ∫ÿ±ÿ© ŸÑŸÉŸÑ ŸÖŸÜÿ™ÿ¨
    function getProductThumbnails(productData) {
        const PRODUCT_IMAGES = {
            'Sony XM5': [
                'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1546435770-a3e426bf472b?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1484704849700-f032a568e944?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1487215078519-e21cc028cb29?w=400&h=400&fit=crop'
            ],

            'Sony WH-1000XM5 Wireless Headphones': [
                'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1546435770-a3e426bf472b?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1484704849700-f032a568e944?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1487215078519-e21cc028cb29?w=400&h=400&fit=crop'
            ],

            'Smart Watch': [
                'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1434494878577-86c23bcb06b9?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1508685096489-7aacd43bd3b1?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1544117519-31a4b719223d?w=400&h=400&fit=crop'
            ],

            'Nike Air': [
                'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1460353581641-37baddab0fa2?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1491553895911-0055eca6402d?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1514989940723-e8e51635b782?w=400&h=400&fit=crop'
            ],

            'JBL Go 3': [
                'https://images.unsplash.com/photo-1583394838336-acd977736f90?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1545454675-3531b543be5d?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1589003077984-894e133dabab?w=400&h=400&fit=crop'
            ],

            'iPhone 14 Pro': [
                'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1592286927505-c80d1e725ea6?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1556656793-08538906a9f8?w=400&h=400&fit=crop'
            ],

            'Samsung A34': [
                'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1585060544812-6b45742d762f?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400&h=400&fit=crop'
            ],

            'Adidas Run': [
                'https://images.unsplash.com/photo-1600269452121-4f2416e55c28?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1612902376890-1da88d2a6370?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1539185441755-769473a23570?w=400&h=400&fit=crop'
            ],

            'FitBand Pro': [
                'https://images.unsplash.com/photo-1579586337278-3f7b879ebad4?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1575311373937-040b8e1fd5b6?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1576243345690-4e4b79b63288?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1557935728-e6d1eaabe558?w=400&h=400&fit=crop'
            ]
        };

        return PRODUCT_IMAGES[productData.title] || PRODUCT_IMAGES['Sony XM5'];
    }
    
    // ÿØÿßŸÑÿ© ÿßŸÑÿ±ÿ¨Ÿàÿπ ÿ•ŸÑŸâ ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©
    function goBack() {
        window.location.href = 'homeFINAL.html';
    }
    
    // ÿØÿßŸÑÿ© ÿ™ÿ∫ŸäŸäÿ± ÿµŸàÿ±ÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨
    function changeProductImage(imageSrc) {
        const main = document.getElementById('product-main-img');
        if (main) {
            main.src = imageSrc;
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ÿ≠ÿßŸÑÿ© ÿßŸÑÿµŸàÿ± ÿßŸÑŸÖÿµÿ∫ÿ±ÿ© ÿßŸÑŸÜÿ¥ÿ∑ÿ©
        document.querySelectorAll('.product-thumb').forEach((thumb, index) => {
            const thumbImg = thumb.querySelector('img');
            if (thumbImg && thumbImg.src === imageSrc) {
                thumb.classList.add('active');
            } else {
                thumb.classList.remove('active');
            }
        });
    }
    
    // ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÑŸàŸÜ
    function selectColor(el, value, colorHex) {
        const label = document.getElementById('selected-color');
        label.textContent = value;

        document.querySelectorAll('.color-options .option-choice').forEach(choice => {
            choice.classList.remove('active');
        });
        el.classList.add('active');

        const main = document.getElementById('product-main-image');
        if (main) {
            main.style.borderColor = colorHex || '#e6e1ff';
        }
    }
    
    // ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ®ÿßŸÇÿ©
    function selectPackage(el, packageName, price) {
        document.getElementById('selected-package').textContent = packageName;
        document.getElementById('current-price').textContent = price;

        document.querySelectorAll('.package-options .option-choice').forEach(choice => {
            choice.classList.remove('active');
        });
        el.classList.add('active');
    }
    
    // ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑÿ™ÿ®ŸàŸäÿ®ÿßÿ™
    function switchTab(tabName) {
        document.querySelectorAll('.tab-button').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.tab === tabName);
        });

        ['description', 'specs', 'reviews', 'support'].forEach(tab => {
            const element = document.getElementById('tab-' + tab);
            if (element) {
                element.style.display = tab === tabName ? 'block' : 'none';
            }
        });
    }
    
    // ÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑÿ≥ŸÑÿ© ŸÖÿπ ÿπÿ±ÿ∂ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨
    function addToCart() {
        const productData = JSON.parse(localStorage.getItem('selectedProduct'));
        
        if (productData) {
            alert(
                '‚úì Added to cart successfully!\n\n' +
                'Product: ' + productData.title + '\n' +
                'Color: ' + document.getElementById('selected-color').textContent + '\n' +
                'Package: ' + document.getElementById('selected-package').textContent + '\n' +
                'Price: ' + productData.price
            );
        } else {
            alert('Added to cart!');
        }
    }
    
    // ÿØÿßŸÑÿßÿ™ AR ŸàÿßŸÑŸàÿ∏ÿßÿ¶ŸÅ ÿßŸÑÿ•ÿ∂ÿßŸÅŸäÿ©
    function openArViewer() {
        document.getElementById('arModal').classList.add('show');
    }

    function closeArModal() {
        document.getElementById('arModal').classList.remove('show');
        alert('Launching AR experience...');
    }

    function showWarranty() {
        alert('1-Year Warranty:\nCovers manufacturing defects. Contact support for claims.');
    }

    function showDeliveryInfo() {
        alert('Free Delivery:\n‚Ä¢ Algiers: 1-2 days\n‚Ä¢ Other cities: 3-5 days\n‚Ä¢ Tracking included');
    }

    function showReturnPolicy() {
        alert('Easy Returns:\n‚Ä¢ 30-day return window\n‚Ä¢ Must be unused in original packaging\n‚Ä¢ Free return shipping');
    }

    function viewSellerProfile() {
        alert('Opening seller profile...');
    }

    function saveForLater() {
        alert('Product saved to your wishlist! ‚ù§Ô∏è');
    }

    function learnAboutTrust() {
        alert('Trust DZ Protection:\n‚Ä¢ Seller verification\n‚Ä¢ Order monitoring\n‚Ä¢ Secure payments\n‚Ä¢ Money-back guarantee');
    }

    function openChat() {
        alert('Opening chat with support...');
    }

    function viewCart() {
        alert('Opening your cart...');
    }

    function showNotification() {
        alert('üîî You have 3 new notifications\n‚Ä¢ Order #1234 shipped\n‚Ä¢ Ramadan sale starts tomorrow\n‚Ä¢ New message from seller');
    }

    function openProfile() {
        alert('Opening your profile...');
    }
    let quantity = 1;

function changeQty(step){
    quantity += step;
    if(quantity < 1) quantity = 1;
    document.getElementById('qtyValue').textContent = quantity;
}

    // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿπŸÜÿØ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©
    document.addEventListener('DOMContentLoaded', function() {
        loadProductData();
        
        // ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© AR ÿπŸÜÿØ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿÆÿßÿ±ÿ¨Ÿáÿß
        document.getElementById('arModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeArModal();
            }
        });

        // Close mobile menu when clicking a link
        document.querySelectorAll('.mobile-nav-link').forEach(link => {
            link.addEventListener('click', () => {
                closeMobileMenu();
            });
        });
    });

</script>

</body>
</html>
